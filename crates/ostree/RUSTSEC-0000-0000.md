```toml
[advisory]
id = "RUSTSEC-0000-0000"
package = "ostree"
date = "2022-11-18"
url = "https://github.com/ostreedev/ostree/issues/2775"
cvss = "CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:C/C:N/I:N/A:L"
categories = ["memory-corruption"]
keywords = ["ffi"]
informational = "unsound"

[versions]
patched = [">= 0.17.0"]
```

# Failure to catch panics crossing FFI boundaries
Affected versions of this crate is not unwind-safe within the FFI function `filter_trampoline_unwindsafe`.

The developers tried `catch_unwind` the panic which would occur in `filter_trampoline` to avoid undefined behaviors of propagating panics. However, `print_panic` which was used to process `catch_unwind` results will panic before calling `abort` if writing to `io::stderr` fails based on documentation of [eprintln](https://doc.rust-lang.org/std/macro.eprintln.html). When the propagating panics reaches the ABI boundary of  `"C"`, it would become an undefined behavior. We should prevent undefined behavior from happening even in edge cases to guarantee panic safety.

The issue was fixed by the authors immediately in this [commit](https://github.com/ostreedev/ostree/pull/2776/commits) after the report.